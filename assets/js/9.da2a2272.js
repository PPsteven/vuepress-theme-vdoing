(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{543:function(t,e,r){t.exports=r.p+"assets/img/v2-e487660edf6fb8ad4fd3d39f7e201bf7_r.e487660e.jpg"},544:function(t,e,r){t.exports=r.p+"assets/img/image-20201128235729278.3c116e05.png"},545:function(t,e,r){t.exports=r.p+"assets/img/image-20201129002053232.93618c8e.png"},546:function(t,e,r){t.exports=r.p+"assets/img/1879468-20191204022955056-605665653.a15493f0.png"},574:function(t,e,r){"use strict";r.r(e);var a=r(24),_=function(t){t.options.__data__block__={mermaid_382ee202:"  sequenceDiagram\n      title: Comet\n      participant Client\n      participant Server\n      loop 维持连接消耗更多资源\n        Client->>Server: 1. 发送请求\n        Note over Server: 挂起等待\n        Note over Server: 服务器有内容更新\n        Server--\x3e>Client: 2. Server Push\n      end \n  \t\n"}},v=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"思维导图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#思维导图"}},[t._v("#")]),t._v(" 思维导图")]),t._v(" "),a("blockquote",[a("p",[t._v("思维导图来自： "),a("a",{attrs:{href:"https://www.zhihu.com/column/c_57862727",target:"_blank",rel:"noopener noreferrer"}},[t._v("霸天的前端笔记"),a("OutboundLink")],1)])]),t._v(" "),a("p",[a("img",{attrs:{src:r(543),alt:"img"}})]),t._v(" "),a("h2",{attrs:{id:"http的瓶颈"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http的瓶颈"}},[t._v("#")]),t._v(" HTTP的瓶颈")]),t._v(" "),a("p",[t._v("当网站的内容发生大量更新的时候，比如微博的博客更新，网站的评论，及时新闻更新等，网站是无法及时的显示。HTTP服务要实现此功能，需要频繁的从客户端到服务端进行确认。")]),t._v(" "),a("p",[t._v("那么如下的HTTP标准就会成为瓶颈：")]),t._v(" "),a("ul",[a("li",[t._v("一条连接上只可发送一个请求")]),t._v(" "),a("li",[t._v("请求只能从客户端开始。 客户端不可以接收除响应以外的指令")]),t._v(" "),a("li",[t._v("请求 / 响应首部未经压缩就发送。 首部信息越多延迟越大")]),t._v(" "),a("li",[t._v("发送冗长的首部。 每次互相发送相同的首部造成的浪费较多")]),t._v(" "),a("li",[t._v("可任意选择数据压缩格式。 非强制压缩发送。")])]),t._v(" "),a("h2",{attrs:{id:"解决方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[t._v("#")]),t._v(" 解决方法")]),t._v(" "),a("p",[t._v("HTTP瓶颈的三种解决方法：Ajax、Comet、SPDY、WebSocket")]),t._v(" "),a("h3",{attrs:{id:"ajax的解决方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ajax的解决方法"}},[t._v("#")]),t._v(" Ajax的解决方法")]),t._v(" "),a("p",[t._v("Ajax (Asynchronous JavaScript and XML 异步JavaScript与XML技术) 是一种有效利用 JavaScript 和 DOM 的操作。Ajax 可以实现"),a("strong",[t._v("局部 Web 页面替换加载")]),t._v("的异步通信手段。")]),t._v(" "),a("blockquote",[a("p",[t._v("局部加载可以减低通信量")])]),t._v(" "),a("h3",{attrs:{id:"comet-的解决方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#comet-的解决方法"}},[t._v("#")]),t._v(" Comet 的解决方法")]),t._v(" "),a("p",[t._v("当服务端有内容更新，Comet 不会让请求等待，直接给客户端返回响应。")]),t._v(" "),a("p",[t._v("是一种 "),a("strong",[t._v("延迟应答")]),t._v(" ，模拟实现服务器端想客户端推送  "),a("strong",[t._v("(Server Push)")]),t._v(" 的功能")]),t._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee202",graph:t.$dataBlock.mermaid_382ee202}}),a("h3",{attrs:{id:"spdy是什么？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#spdy是什么？"}},[t._v("#")]),t._v(" SPDY是什么？")]),t._v(" "),a("p",[a("strong",[t._v("目的")]),t._v("：解决 HTTP 的性能瓶颈，缩短 Web 页面的加载时间 (50%)")]),t._v(" "),a("p",[a("strong",[t._v("层次结构")]),t._v("：")]),t._v(" "),a("img",{staticStyle:{zoom:"100%",margin:"0"},attrs:{src:r(544),alt:"image-20201128235729278"}}),t._v(" "),a("p",[a("strong",[t._v("功能")]),t._v("：")]),t._v(" "),a("ul",[a("li",[t._v("多路复用流：处理多个 HTTP 请求")]),t._v(" "),a("li",[t._v("赋予请求优先级：HTTP请求分配优先级")]),t._v(" "),a("li",[t._v("压缩 HTTP 首部")]),t._v(" "),a("li",[t._v("推送功能")]),t._v(" "),a("li",[t._v("服务器提示功能：减少发送不必要资源")])]),t._v(" "),a("p",[a("strong",[t._v("优缺点")]),t._v("：")]),t._v(" "),a("ul",[a("li",[t._v("单个域名的通信多路复用，多个域名下资源效果就很差")]),t._v(" "),a("li",[t._v("SPDY是一种消除HTTP瓶颈的技术，很多网站的问题不仅仅是HTTP导致")])]),t._v(" "),a("h2",{attrs:{id:"websocket"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#websocket"}},[t._v("#")]),t._v(" WebSocket")]),t._v(" "),a("p",[t._v("HTTP协议无法彻底解决瓶颈问题，WebSocket技术是一套新协议及API。")]),t._v(" "),a("p",[a("strong",[t._v("特点")]),t._v("：")]),t._v(" "),a("ul",[a("li",[t._v("全双工")]),t._v(" "),a("li",[t._v("支持 JSON、XML、HTML、图片等格式")]),t._v(" "),a("li",[t._v("服务器推送")]),t._v(" "),a("li",[t._v("连接状态保持：不用每次发送首部信息，通信量也减少；连接总开销减少")])]),t._v(" "),a("p",[a("strong",[t._v("连接过程")]),t._v("：")]),t._v(" "),a("p",[t._v("通讯不是使用 HTTP数据帧，而是使用 WebSocket 数据帧。所以需要通过一次握手（Handshake）实现协议的转换。使用 "),a("code",[t._v("Upgrade: websocket")]),t._v(" 实现协议的切换。")]),t._v(" "),a("p",[a("img",{attrs:{src:r(545),alt:"image-20201129002053232"}})]),t._v(" "),a("p",[a("strong",[t._v("WebSocket 全双工通路")])]),t._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:r(546),alt:"img"}}),t._v(" "),a("h2",{attrs:{id:"webdav"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webdav"}},[t._v("#")]),t._v(" WebDAV")]),t._v(" "),a("p",[a("strong",[t._v("WebDAV")]),t._v("（Web-based Distributed Authoring and Versioning，基于万维网的分布式创作和版本控制）是一个可对 Web 服务器上的内容直接进行文件复制、编辑等操作的分布式文件系统。")]),t._v(" "),a("h2",{attrs:{id:"参考资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资源"}},[t._v("#")]),t._v(" 参考资源")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("思维导图参考:  "),a("a",{attrs:{href:"https://www.zhihu.com/column/c_57862727",target:"_blank",rel:"noopener noreferrer"}},[t._v("霸天的前端笔记"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Github 仓库有Xmind："),a("a",{attrs:{href:"https://github.com/bailinlin/Awsome-Front-End-Xmind",target:"_blank",rel:"noopener noreferrer"}},[t._v("Awsome-Front-End-Xmind"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("原书参考：《图解HTTP》和 《HTTP权威指南》")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://www.cnblogs.com/chenxinshuo/p/11980577.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("websocket 协议简述"),a("OutboundLink")],1)])])])],1)}),[],!1,null,null,null);"function"==typeof _&&_(v);e.default=v.exports}}]);