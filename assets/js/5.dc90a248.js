(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{532:function(t,r,a){t.exports=a.p+"assets/img/v2-abbe3ff22aa7947cf7b80f211c8b67d6_r.abbe3ff2.jpg"},533:function(t,r,a){t.exports=a.p+"assets/img/image-20201128153058313.6ccc9967.png"},534:function(t,r,a){t.exports=a.p+"assets/img/image-20201128153642832.8afbd99d.png"},535:function(t,r,a){t.exports=a.p+"assets/img/image-20201128154153592.3f7d4988.png"},536:function(t,r,a){t.exports=a.p+"assets/img/image-20201128155132250.43b95e45.png"},537:function(t,r,a){t.exports=a.p+"assets/img/image-20201128155217844.da569c4c.png"},818:function(t,r,a){"use strict";a.r(r);var _=a(24),v=Object(_.a)({},(function(){var t=this,r=t.$createElement,_=t._self._c||r;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h2",{attrs:{id:"思维导图"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#思维导图"}},[t._v("#")]),t._v(" 思维导图")]),t._v(" "),_("blockquote",[_("p",[t._v("思维导图来自： "),_("a",{attrs:{href:"https://www.zhihu.com/column/c_57862727",target:"_blank",rel:"noopener noreferrer"}},[t._v("霸天的前端笔记"),_("OutboundLink")],1)])]),t._v(" "),_("p",[_("img",{attrs:{src:a(532),alt:"preview"}})]),t._v(" "),_("h2",{attrs:{id:"http的缺点"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#http的缺点"}},[t._v("#")]),t._v(" HTTP的缺点")]),t._v(" "),_("ul",[_("li",[_("strong",[t._v("窃听风险")]),t._v("：通信使用明文（不加密）， 内容可能会被窃听")]),t._v(" "),_("li",[_("strong",[t._v("伪装风险")]),t._v("： 无法验证通讯方身份")]),t._v(" "),_("li",[_("strong",[t._v("篡改风险")]),t._v("：无法验证报文的完整性")])]),t._v(" "),_("p",[t._v("HTTP报文在转发的过程中是很容易受到监听，比如使用 Charles、Fiddler可以针对 HTTP 报文进行抓包。WiresShark可以针对TCP/UDP 进行抓包。")]),t._v(" "),_("h2",{attrs:{id:"如何解决上述风险"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#如何解决上述风险"}},[t._v("#")]),t._v(" 如何解决上述风险")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("窃听风险=>加密处理：")]),t._v(" "),_("ul",[_("li",[_("strong",[t._v("通信的加密")]),t._v("：HTTP本身没有加密机制，可以通过 "),_("strong",[t._v("SSL（Secure Socket Layer，安全套接层）")]),t._v(" 或 "),_("strong",[t._v("TLS（Transport Layer Security，安全层传输协议）")]),t._v(" 加密HTTP的通信内容。加密的对象包含 "),_("strong",[t._v("报文首部")]),t._v("  和 "),_("strong",[t._v("报文主体")])]),t._v(" "),_("li",[_("strong",[t._v("内容加密：")]),t._v(" 仅针对报文内容进行加密。")])])]),t._v(" "),_("li",[_("p",[t._v("伪装风险=>身份验证：")]),t._v(" "),_("p",[t._v("由于HTTP本身不包含身份认证，所以任何人都可以发起请求。")]),t._v(" "),_("p",[t._v("会造成如下问题：")]),t._v(" "),_("ul",[_("li",[t._v("无法确定服务端/客户端是否伪装")]),t._v(" "),_("li",[t._v("无法控制访问权限（如： 普通用户不应该有管理后台访问权限）")]),t._v(" "),_("li",[t._v("DoS攻击")])]),t._v(" "),_("p",[_("strong",[t._v("解决方法")]),t._v("：证书认证，通常是服务器使用证书")])]),t._v(" "),_("li",[_("p",[t._v("篡改风险=>数字签名：")]),t._v(" "),_("ul",[_("li",[t._v("传输过程中文件遭到篡改称为 "),_("strong",[t._v("中间人攻击（Man-in-the-Middle attack，MITM）")])]),t._v(" "),_("li",[t._v("MD5/SHA-1 等散列值校验。一些网站会主动提供 **PGP（Pretty Good Privacy，完美隐私）**和 "),_("strong",[t._v("MD5散列值")]),t._v("，不过游览器是不会做检验的行为，需要用户自己检验。")])])])]),t._v(" "),_("h2",{attrs:{id:"一套完整的解决方案：http-加密-认证-完整性保护-https"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#一套完整的解决方案：http-加密-认证-完整性保护-https"}},[t._v("#")]),t._v(" 一套完整的解决方案：HTTP+ 加密 + 认证 + 完整性保护 =HTTPS")]),t._v(" "),_("p",[t._v("HTTPS 即是将 HTTP 通信接口部分用 SSL（Secure Socket Layer）和 TLS（Transport Layer Security）代替")]),t._v(" "),_("h3",{attrs:{id:"加密技术-cryptography"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#加密技术-cryptography"}},[t._v("#")]),t._v(" 加密技术(cryptography)")]),t._v(" "),_("p",[t._v("使用密钥对报文进行加密可以解决窃听的风险，可以分为对称加密/共享密钥 和 非对称加密/公开密钥")]),t._v(" "),_("h4",{attrs:{id:"共享密钥加密-对称加密"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#共享密钥加密-对称加密"}},[t._v("#")]),t._v(" 共享密钥加密(对称加密)")]),t._v(" "),_("p",[t._v("使用共享密钥加密也叫对称加密，双方使用一个密钥进行加密解密，问题是 "),_("strong",[t._v("密钥")]),t._v(" 也可能被窃取。")]),t._v(" "),_("img",{staticStyle:{zoom:"50%","margin-left":"0"},attrs:{src:a(533),alt:"image-20201128153058313"}}),t._v(" "),_("h4",{attrs:{id:"公开密钥加密（非对称加密技术）"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#公开密钥加密（非对称加密技术）"}},[t._v("#")]),t._v(" 公开密钥加密（非对称加密技术）")]),t._v(" "),_("p",[t._v("使用公钥（public key）和 私钥（private key），公开密钥是可以完全公开，但是私钥是自己的。")]),t._v(" "),_("p",[t._v("目前，非对称加密技术在 git、区块链等领域广泛使用")]),t._v(" "),_("img",{staticStyle:{zoom:"33%","margin-left":"0px"},attrs:{src:a(534),alt:"image-20201128153642832"}}),t._v(" "),_("h4",{attrs:{id:"简单例子"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#简单例子"}},[t._v("#")]),t._v(" 简单例子")]),t._v(" "),_("p",[t._v("公开加密是通过给对方发送 "),_("code",[t._v("密码表")]),t._v(" 实现加密通信")]),t._v(" "),_("p",[t._v("非公开加密是通过给对方发送 "),_("code",[t._v("加密机")]),t._v(" ，加密机打印出的信息，只有通过自己的掌握的 "),_("code",[t._v("解密机")]),t._v(" 才能读取。就算加密机被获取也没有用。")]),t._v(" "),_("h4",{attrs:{id:"https采用混合加密"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#https采用混合加密"}},[t._v("#")]),t._v(" HTTPS采用混合加密")]),t._v(" "),_("img",{staticStyle:{zoom:"50%",margin:"0"},attrs:{src:a(535),alt:"image-20201128154153592"}}),t._v(" "),_("h3",{attrs:{id:"什么是证书？"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#什么是证书？"}},[t._v("#")]),t._v(" 什么是证书？")]),t._v(" "),_("p",[t._v("公开的密钥可能会被替换，那么如何保证公开密钥的可靠性？通过数字认证机构颁发数字证书 CA（Certificate Authority）")]),t._v(" "),_("p",[t._v("在发送  "),_("strong",[t._v("服务器公开密钥")]),t._v("  的时候，加上数字认证机构的 "),_("strong",[t._v("数字签名")]),t._v(" 就可以解决公开密钥的权威性。")]),t._v(" "),_("p",[_("strong",[t._v("数字认证")])]),t._v(" "),_("img",{staticStyle:{zoom:"50%"},attrs:{src:a(536),alt:"image-20201128155132250"}}),t._v(" "),_("p",[_("strong",[t._v("验证证书过程：")])]),t._v(" "),_("p",[t._v("验证数字签名的话，也是使用非对称加密技术。游览器会将一些常用数据认证机构的公开密钥事先植入，然后用公开秘钥对数字证书进行加密验证。")]),t._v(" "),_("img",{staticStyle:{zoom:"50%","margin-left":"0"},attrs:{src:a(537),alt:"image-20201128155217844"}}),t._v(" "),_("h4",{attrs:{id:"证书的可靠性"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#证书的可靠性"}},[t._v("#")]),t._v(" 证书的可靠性")]),t._v(" "),_("p",[t._v("数字认证机构很多，比如 "),_("code",[t._v("EV SSL 证书")]),t._v(" 可以证明企业是否真实存在，"),_("code",[t._v("自签名证书")]),t._v(" 的可靠性就很低，因为任何人都可以通过 "),_("code",[t._v("OpenSSL")]),t._v(" 构建自己的认证机构。")]),t._v(" "),_("h2",{attrs:{id:"https的缺点"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#https的缺点"}},[t._v("#")]),t._v(" HTTPS的缺点")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("慢： 2~100倍")]),t._v(" "),_("p",[t._v("SSL的慢提现在：一是占用CPU和内存资源导致的 "),_("code",[t._v("处理速度慢")]),t._v("，二是建立SSL通讯导致的"),_("code",[t._v("通信量")]),t._v(" 大")])]),t._v(" "),_("li",[_("p",[t._v("负载大：服务端和客户端都需要进行大量运算，CPU和内存压力大。")])]),t._v(" "),_("li",[_("p",[t._v("贵：CA要付钱购买")])])]),t._v(" "),_("h2",{attrs:{id:"参考资源"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#参考资源"}},[t._v("#")]),t._v(" 参考资源")]),t._v(" "),_("ol",[_("li",[_("p",[t._v("思维导图参考:  "),_("a",{attrs:{href:"https://www.zhihu.com/column/c_57862727",target:"_blank",rel:"noopener noreferrer"}},[t._v("霸天的前端笔记"),_("OutboundLink")],1)]),t._v(" "),_("p",[t._v("Github 仓库有Xmind："),_("a",{attrs:{href:"https://github.com/bailinlin/Awsome-Front-End-Xmind",target:"_blank",rel:"noopener noreferrer"}},[t._v("Awsome-Front-End-Xmind"),_("OutboundLink")],1)])]),t._v(" "),_("li",[_("p",[t._v("原书参考：《图解HTTP》和 《HTTP权威指南》")])])])])}),[],!1,null,null,null);r.default=v.exports}}]);