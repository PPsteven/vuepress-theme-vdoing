(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{582:function(s,a,n){"use strict";n.r(a);var e=n(24),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("慢慢总结常用的的mysql 命令，看做是平时工作的“缓存”")]),s._v(" "),n("h2",{attrs:{id:"修改密码强度"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改密码强度"}},[s._v("#")]),s._v(" 修改密码强度")]),s._v(" "),n("p",[s._v("修改密码强度一般是mysql5.7 升级到 mysql8.0，或者是刚刚安装mysql8.0时候很容易碰到的问题。")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 查看密码需要满足的条件\nSHOW VARIABLES LIKE 'validate_password%'; \n\n# validate_password_policy代表密码策略，默认是1：符合长度，且必须含有数字，小写或大写字母，特殊字符。设置为0判断密码的标准就基于密码的长度了。一定要先修改两个参数再修改密码\nset global validate_password.policy=0;\n\n# validate_password_length代表密码长度，最小值为4\nset global validate_password.length=4; \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"yum安装mysql-下载速度慢"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#yum安装mysql-下载速度慢"}},[s._v("#")]),s._v(" yum安装mysql 下载速度慢")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 备份系统自带yum源配置文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载ailiyun的yum源配置文件(阿里云速度比较快)")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成缓存")]),s._v("\nyum makecache\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum 升级")]),s._v("\nyum -y update\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装yum")]),s._v("\nyum "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y mysql-server\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h2",{attrs:{id:"创建新的用户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建新的用户"}},[s._v("#")]),s._v(" 创建新的用户")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 创建新用户 reader01， 赋予密码'onlyread@123'\nCREATE USER `reader01`@`%` IDENTIFIED by 'onlyread@123';\n# 赋予 select 权限， 赋予nongwei_syn所有数据表的访问权限\nGRANT SELECT ON `nongwei_syn`.* TO `reader01`@`%` ;\n# 降低 mysql 加密规则\nALTER USER `reader01`@`%` IDENTIFIED WITH mysql_native_password BY 'onlyread@123';\n# 刷新一下权限\nflush privileges;\n# 查看用户的权限\nshow grants for reader01;\nGRANT USAGE ON *.* TO `reader01`@`%`\nGRANT SELECT ON `nongwei_syn`.* TO `reader01`@`%`\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h2",{attrs:{id:"数据字典显示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据字典显示"}},[s._v("#")]),s._v(" 数据字典显示")]),s._v(" "),n("p",[n("strong",[s._v("显示字段的详细信息（包含COMMENT）")])]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("show full columns from d_dbname.t_table_name\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20200322184343.png",alt:""}})]),s._v(" "),n("p",[s._v("建议每次建表的时候，都带上COMMENT")]),s._v(" "),n("p",[s._v("如果你一开始并没有这样做的话，需要借助 "),n("code",[s._v("alter")]),s._v(" 来添加 "),n("code",[s._v("COMMENT")])]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("alter table `d_dbname`.`t_table_name` modify column foodtype   varchar(20)                              COMMENT '品种';\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("strong",[s._v("显示建表的SQL")])]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("show create table  `d_dbname`.`t_table_name`\n\n# output:\nCREATE TABLE `t_vegnet_price_202003` (\n  `id` int NOT NULL AUTO_INCREMENT COMMENT '序号',\n  `foodtype` varchar(20) DEFAULT NULL COMMENT '品种',\n  `market` varchar(30) DEFAULT NULL COMMENT '批发市场',\n  `lprice` float(10,2) DEFAULT NULL COMMENT '最低价',\n  `hprice` float(10,2) DEFAULT NULL COMMENT '最高价',\n  `avgprice` float(10,2) DEFAULT NULL COMMENT '平均价',\n  `unit` varchar(20) DEFAULT NULL COMMENT '计量单位',\n  `date` varchar(10) DEFAULT NULL COMMENT '日期',\n  `pagenum` int DEFAULT NULL COMMENT '页码',\n  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `date` (`date`,`foodtype`,`market`)\n) ENGINE=InnoDB AUTO_INCREMENT=42501 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);