(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{579:function(s,a,t){"use strict";t.r(a);var e=t(24),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("最近的工作")]),s._v(" "),t("ul",[t("li",[s._v("php 学习，设计到LAMP的环境搭建。虽然是Mac上Apache 和 php 都是自带的，但是环境上还是不足，所以要用Docker。DAMP")]),s._v(" "),t("li",[s._v("爬虫ip 池搭建，发现别人造好的轮子上需要如redis，flask等环境。而且配置完了，最终也是要部署到服务器上去的，所以docker 是必不可少的")])]),s._v(" "),t("p",[s._v("最近的工作，让我感到Docker的学习一定要提前了。因为只是先用起来，首先记录一些常用的命令，争取一天搞定。")]),s._v(" "),t("h2",{attrs:{id:"docker-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-安装"}},[s._v("#")]),s._v(" Docker 安装")]),s._v(" "),t("p",[s._v("我的主力机子是Mac，家里用旧电脑搭了 manjaro ，所以我需要两个安装教程")]),s._v(" "),t("h3",{attrs:{id:"mac-docker安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mac-docker安装"}},[s._v("#")]),s._v(" Mac Docker安装")]),s._v(" "),t("p",[s._v("Mac 上配置docker最为方便")]),s._v(" "),t("blockquote",[t("p",[s._v("这里参考 "),t("a",{attrs:{href:"https://www.runoob.com/docker/macos-docker-install.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("菜鸟教程:MacOS Docker 安装"),t("OutboundLink")],1)])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("brew cask "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看是否安装成功")]),s._v("\ndocker info \ndocker -v \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("strong",[s._v("镜像加速")]),s._v("\n鉴于国内网络问题，后续拉取 Docker 镜像十分缓慢，我们可以需要配置加速器来解决，我使用的是网易的镜像地址：http://hub-mirror.c.163.com。还有 https://registry.docker-cn.com 是官方的中国站点。这些站点存储的是docker hub 的官方热门镜像，如果是私人的镜像，还是需要去美国站点下载。")]),s._v(" "),t("p",[s._v("在任务栏点击 Docker for mac 应用图标 -> Perferences... -> Daemon -> Registry mirrors。在列表中填写加速器地址即可。修改完成之后，点击 Apply & Restart 按钮，Docker 就会重启并应用配置的镜像地址了。\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/PPsteven/pictures/img/20191124001923.png",alt:""}})]),s._v(" "),t("h3",{attrs:{id:"manjaro-docker-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#manjaro-docker-安装"}},[s._v("#")]),s._v(" Manjaro docker 安装")]),s._v(" "),t("p",[s._v("Manjaro 也拥有非常强大的包管理软件 pacman 和 yay\n这里我们使用pacman，这里面的软件都是来自官方库")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装docker")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pacman -S docker\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动docker 服务")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start docker \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看docker服务状态")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl status docker\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置docker开启启动服务")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" docker \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("这里Linux 有一个比Mac 麻烦一点的地方，就是每次使用docker 需要用sudo 超级管理员权限")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果还没有 docker group 就添加一个")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" docker\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将自己的登录名(${USER} )加入该 group 内。然后退出并重新登录就生效啦")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gpasswd -aG "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("}")]),s._v(" docker\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启 docker 服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart docker\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[t("strong",[s._v("Linux 镜像加速")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新建配置文件")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" /etc/docker/daemon.json \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加国内站点")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"registry-mirrors"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://registry.docker-cn.com"')]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://hub-mirror.c.163.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启docker daemon")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart docker \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看是否有修改成功")]),s._v("\n$ docker info \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看Register Mirrors的信息")]),s._v("\nRegistry Mirrors:\n  https://registry.docker-cn.com/\n  http://hub-mirror.c.163.com/\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h3",{attrs:{id:"centos-docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos-docker"}},[s._v("#")]),s._v(" Centos docker")]),s._v(" "),t("h4",{attrs:{id:"使用脚本安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用脚本安装"}},[s._v("#")]),s._v(" 使用脚本安装")]),s._v(" "),t("p",[s._v("docker 安装其实比较麻烦的，感谢 "),t("code",[s._v("图灵:Docker开发指南")]),s._v(" 给的安装建议，我们可以直接用别人写好的脚本。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" https://get.docker.com "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" install.sh\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x install.sh\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" install.sh "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 感兴趣的话，可以研究一下 shell 究竟写了啥")]),s._v("\n./install.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装完了，记得启动 docker 服务")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start docker \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h4",{attrs:{id:"docker-compose-github-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-github-安装"}},[s._v("#")]),s._v(" docker-compose(github 安装)")]),s._v(" "),t("blockquote",[t("p",[s._v("有条件的话，参考 "),t("a",{attrs:{href:"https://docs.docker.com/compose/install/",target:"_blank",rel:"noopener noreferrer"}},[s._v("docker官方教程"),t("OutboundLink")],1),s._v("\n这一种方法是官方推荐，但是鉴于中国墙，速度有可能非常感人")])]),s._v(" "),t("h5",{attrs:{id:"_1-从-github-上下载-docker-compose-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-从-github-上下载-docker-compose-命令"}},[s._v("#")]),s._v(" 1. 从 github 上下载 docker-compose 命令")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -L "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/docker/compose/releases/download/1.25.3/docker-compose-'),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -s"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("-"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -m"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v(" -o /usr/local/bin/docker-compose\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_2-赋予可执行权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-赋予可执行权限"}},[s._v("#")]),s._v(" 2. 赋予可执行权限")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x /usr/local/bin/docker-compose\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"_3-验证是否安装成功"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-验证是否安装成功"}},[s._v("#")]),s._v(" 3. 验证是否安装成功")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker-compose --version\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"docker-compose-pip-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-pip-安装"}},[s._v("#")]),s._v(" docker-compose(pip 安装)")]),s._v(" "),t("blockquote",[t("p",[s._v("一般容易出问题的是 pip 的版本，如果是使用了conda作为包管理的话，可能主要注意pip的版本。我一开始是使用base环境的pip作下载，然后将安装的docker-compose 软连接至 "),t("code",[s._v("/usr/local/bin")]),s._v(" 中")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("pip "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker-compose\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"docker-镜像使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-镜像使用"}},[s._v("#")]),s._v(" Docker 镜像使用")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出本地的镜像 images")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" images\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" image "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" \nREPOSITORY       TAG     IMAGE ID      CREATED             SIZE\nubuntu          latest   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("775349758637")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" weeks ago         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v(".2MB\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 标签的含义")]),s._v("\n- REPOSTITORY：表示镜像的仓库源\n- TAG：镜像的标签\n- IMAGE ID：镜像ID\n- CREATED：镜像创建时间\n- SIZE：镜像大小\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取镜像")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" pull ubuntu:13.10\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查找镜像")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" search ubuntu\n- NAME:镜像仓库源的名称\n- DESCRIPTION:镜像的描述\n- OFFICIAL:是否docker官方发布\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除镜像")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" rmi\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除所有镜像")]),s._v("\n\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br")])]),t("h2",{attrs:{id:"创建并启动容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建并启动容器"}},[s._v("#")]),s._v(" 创建并启动容器")]),s._v(" "),t("p",[s._v("docker run 是docker 命令中比较复杂的一个命令")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" run "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("images"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("command"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" run busybox "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" hello world\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" run Ubuntu:16.01 /bin/bash\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" run -t-i Ubuntu:16.01 /bin/bash\n-t-i: 交互式会话\n-d: 后台方式\n--rm: 运行完成后就会删除\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -ti "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CONTAINER ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /bin/bash\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"容器信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器信息"}},[s._v("#")]),s._v(" 容器信息")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面所有的<CONTAINER ID> 都可以用容器的NAME 替代")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker 很贴心的为我们的容器起了名字")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出运行容器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 包含停止但没有消失的容器")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"容器管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器管理"}},[s._v("#")]),s._v(" 容器管理")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止正在运行的容器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CONTAINER ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" stop "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CONTAINER ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 两个命令都是会停止容器运行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止没有消失的容器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" restart "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CONTAINER ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" start "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CONTAINER ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动并进入交互界面")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" start -it "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CONTAINER ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /bin/bash\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除无用的容器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CONTAINER ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除所有已停止的容器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -aq -f "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("status")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("exited"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除所有容器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("h2",{attrs:{id:"查看docker输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看docker输出"}},[s._v("#")]),s._v(" 查看docker输出")]),s._v(" "),t("p",[s._v("用于查看docker 的输出，对于没有交互(-ti)的容器的时候，需要用这个命令查看容器输出")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" logs "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CONTAINER ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"文件拷贝"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件拷贝"}},[s._v("#")]),s._v(" 文件拷贝")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CONTAINER ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("/path/to/file"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"参考资料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://github.com/eon01/DockerCheatSheet",target:"_blank",rel:"noopener noreferrer"}},[s._v("DockerCheatSheet"),t("OutboundLink")],1),s._v(" "),t("a",{attrs:{href:"https://www.cnblogs.com/imzhizi/p/10718310.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux(Manjaro) -Docker 安装及基本配置"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);